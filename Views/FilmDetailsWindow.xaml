<Window x:Class="TestTaskApp.Views.FilmDetailsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Детали фильма" Height="400" Width="600">
    <Grid Margin="20">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Orientation="Vertical" Margin="0" Width="Auto" HorizontalAlignment="Stretch">

                <Image Source="{Binding PosterUrl}" Height="200" Stretch="Uniform" Margin="0 0 0 20"/>

                <TextBlock Text="{Binding NameRu}" FontSize="24" FontWeight="Bold" Margin="0 0 0 10"/>
                <TextBlock Text="{Binding ShortDescription}" FontSize="16" TextWrapping="Wrap" Margin="0 0 0 20" TextAlignment="Justify"/>

                <StackPanel Orientation="Horizontal" Margin="0 0 0 10">
                    <StackPanel.Style>
                        <Style TargetType="StackPanel">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding FilmLength}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </StackPanel.Style>
                    <TextBlock>
                        <Run Text="Длительность: " FontWeight="Bold"/>
                        <Run Text="{Binding FilmLength}" />
                        <Run Text=" мин"/>
                    </TextBlock>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0 0 0 10">
                    <StackPanel.Style>
                        <Style TargetType="StackPanel">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ratingKinopoisk}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </StackPanel.Style>
                    <TextBlock>
                        <Run Text="Рейтинг КП: "  FontWeight="Bold"/>
                        <Run Text="{Binding ratingKinopoisk}" />
                    </TextBlock>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0 0 0 10">
                    <StackPanel.Style>
                        <Style TargetType="StackPanel">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ratingGoodReview}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </StackPanel.Style>
                    <TextBlock>
                        <Run Text="Рейтинг обзоров: "  FontWeight="Bold"/>
                        <Run Text="{Binding ratingGoodReview}" />
                    </TextBlock>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0 0 0 10">
                    <StackPanel.Style>
                        <Style TargetType="StackPanel">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ratingRfCritics}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </StackPanel.Style>
                    <TextBlock>
                        <Run Text="Рейтинг критиков РФ: "  FontWeight="Bold"/>
                        <Run Text="{Binding ratingRfCritics}" />
                    </TextBlock>
                </StackPanel>

                <TextBlock Text="Жанры:" FontWeight="Bold" Margin="0 10 0 0"/>
                <ItemsControl ItemsSource="{Binding Genres}">
                    <ItemsControl.Style>
                        <Style TargetType="ItemsControl">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Genres.Count}" Value="0">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ItemsControl.Style>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding genre}" />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <TextBlock Text="Страна:" FontWeight="Bold" Margin="0 10 0 0"/>
                <ItemsControl ItemsSource="{Binding Countries}">
                    <ItemsControl.Style>
                        <Style TargetType="ItemsControl">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Countries.Count}" Value="0">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ItemsControl.Style>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding country}" />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
                
                <TextBlock Text="Описание:" FontWeight="Bold" Margin="0 10 0 0"/>
                <TextBlock Text="{Binding Description}" TextWrapping="Wrap" Margin="0 0 0 10" TextAlignment="Justify">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Description}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>

                <TextBlock Text="Возрастной рейтинг:" FontWeight="Bold" Margin="0 10 0 0"/>
                <TextBlock Text="{Binding ConvertAge}" Margin="0 0 0 10">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ConvertAge, Mode=OneWay,TargetNullValue ='0'}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>

                <TextBlock Text="id:" FontWeight="Bold" Margin="0 10 0 0"/>
                <TextBlock Text="{Binding kinopoiskId}" Margin="0 0 0 10"/>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
